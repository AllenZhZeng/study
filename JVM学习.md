

	

## JAVA虚拟机栈

每个java方法在执行的时候会创建一个栈帧用于存储局部变量表,操作数栈,常量池引用等信息.
从方法调用直至执行完的整个过程,对应着一个栈帧在java虚拟机中的入栈和出栈的过程.

可以通过 -Xss 这个虚拟机参数来指定每个线程的Java虚拟机栈内存的大小.在JDK1.4中默认为256K, JDK1.5+ 默认为1M:
> java -Xss 2M HackTheJava

此处可能抛出以下异常:

 - 当线程请求的栈深度超过最大值,会抛出StackOverflowError异常.
 - 栈进行动态扩展时如果无法申请到足够的内存,会抛出OutOfMemoryError异常.

##本地方法栈

本地方法栈与java虚拟机栈类似,区别在于本地方法栈为本地方法服务.
本地方法栈一般是由其他语言(C,C++,汇编语言)编写的,本且被编译为基于本机硬件和操作系统的程序,对待这些方法需要特别处理.
##堆

所有对象都在这里分配内存,是垃圾手机的主要区域("GC堆").
现代的垃圾收集器基本都是采用分代收集算法,其主要思想是针对不同类型的对象采用不同的垃圾回收算法,可以将堆分为2块:

 - 新生代(Young Generation)
 - 老年代(Old Generation)

堆不需要内存连续,并且可以动态增加其内存,增加失败会抛出OutOfMenoryError异常.
可以通过 -Xms -Xmx 来设置堆内存的大小 第一个是初始值,第二个是最大值

> java -Xms1M -Xmx2M HackTheJava


##方法区
 

 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
   

